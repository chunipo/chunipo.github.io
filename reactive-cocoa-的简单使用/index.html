<!DOCTYPE html>
<html lang="fr-FR">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    
        
        <meta name="twitter:card" content="summary_large_image"/>
        <meta name="twitter:image" content="/content/images/me/1.jpg"/>
    



<meta name="twitter:title" content="Reactive Cocoa 的简单使用"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@pSXzNqa4EWTxosq"/>


    <link rel="icon" href="/images/icon.png" />
  	<meta property="og:title" content="Reactive Cocoa 的简单使用 &middot; Riven&#39;s Blog" />
  	<meta property="og:site_name" content="Riven&#39;s Blog" />
  	<meta property="og:url" content="https://chunipo.github.io/reactive-cocoa-%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" />

    
       <meta property="og:image" content="/content/images/me/1.jpg"/>
    

    
    <meta property="og:description" content="" />
  	<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2017-01-10T22:19:00&#43;02:00" />

    
    

    <title>Reactive Cocoa 的简单使用 &middot; Riven&#39;s Blog</title>

    
    <meta name="description" content="&lt;blockquote&gt;
&lt;p&gt;Die there is life, that is to say, there is life there is hope.
&lt;img src=&#34;/content/images/me/16.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/images/favicon.ico">
	  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="/css/nav.css" />

    

    

    
      
          <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Riven&#39;s Blog" />
      
      
    
    <meta name="generator" content="Hugo 0.40.3" />

    <link rel="canonical" href="https://chunipo.github.io/reactive-cocoa-%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": ,
        "logo": https://chunipo.github.io/images/logo.png
    },
    "author": {
        "@type": "Person",
        "name": ,
        
        "image": {
            "@type": "ImageObject",
            "url": https://chunipo.github.io/images/logo.png,
            "width": 250,
            "height": 250
        }, 
        
        "url": https://chunipo.github.io/,
        "sameAs": [
            
            
             
             
             
             
             
            
        ],
        "description": IT software and Security Engineer, Open source enthusiast.
        
    },
    "headline": Reactive Cocoa 的简单使用,
    "name": Reactive Cocoa 的简单使用,
    "wordCount": 174,
    "timeRequired": "PT1M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": en
    },
    "url": https://chunipo.github.io/reactive-cocoa-%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/,
    "datePublished": 2017-01-10T22:19Z,
    "dateModified": 2017-01-10T22:19Z,
    
    "image": {
        "@type": "ImageObject",
        "url": https://chunipo.github.io//content/images/me/1.jpg,
        "width": 3000,
        "height": 1445
    },
    
    
    "description": ,
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": https://chunipo.github.io/reactive-cocoa-%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/
    }
}
    </script>
    


    

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-79101-12', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
            <h3>Topics</h3>
            <li class="nav-opened" role="presentation">
            	<a href="/security/">Securité</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="/pgp/">PGP Pub Key</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="/about/">About me</a>
            </li>
        
            <h3>Tools</h3>
            <li class="nav-opened" role="presentation">
            	<a href="https://alpha.wallhaven.cc/">图片搜索网站</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://www.bijint.com">YouTube</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="http://iconfont.cn/home/index">阿里巴巴矢量图标库</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://developer.apple.com/library/content/navigation/">iOS Guides and Sample Code</a>
            </li>
        
            <h3>Links</h3>
            <li class="nav-opened" role="presentation">
            	<a href="https://ennisk.github.io/">ennisk&#39;s Blog</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="/">Blog</a>
            </li>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">



  
  <header class="main-header post-head" style="background-image: url(/content/images/me/1.jpg)">
  
  <nav class="main-nav overlay clearfix">


  
      <a class="blog-logo" href="https://chunipo.github.io/"><img src="/images/logo.png" alt="Home" /></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Reactive Cocoa 的简单使用</h1>
        <small></small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2017-01-10T22:19:00&#43;02:00">
            Jan 10, 2017
          </time>
        
         
        </section>
    </header>

    <section class="post-content">
      <blockquote>
<p>Die there is life, that is to say, there is life there is hope.
<img src="/content/images/me/16.jpg" alt="" /></p>
</blockquote>

<h5 id="1-什么是-reactiveswift">1.什么是 ReactiveSwift？</h5>

<blockquote>
<p>ReactiveSwift offers composable, declarative and flexible primitives that are built around the grand concept of streams of values over time. These primitives can be used to uniformly represent common Cocoa and generic programming patterns that are fundamentally an act of observation.
简而言之，用平常话来说，就是代替各种代理、各种target - action、 各种监听的一个三方框架。</p>
</blockquote>

<h5 id="2-从官方的文档上看-先有-reactiveswift-才有-reactiveobjc">2.从官方的文档上看，先有 ReactiveSwift 才有 ReactiveObjC</h5>

<blockquote>
<p>ReactiveObjC is inspired by functional reactive programming. Rather than using mutable variables which are replaced and modified in-place, RAC provides signals (represented by RACSignal) that capture present and future values.RAC里提供<em>信号</em>(signals)这个介质来传递值给接收者。</p>
</blockquote>

<h5 id="3-一些常见的使用方法">3.一些常见的使用方法</h5>

<ul>
<li>Button点击事件</li>
</ul>

<pre><code>self.cancelButton.rac_command = [[RACCommand alloc]initWithSignalBlock:^RACSignal * _Nonnull(id  _Nullable input) {
[self.navigationController popViewControllerAnimated:YES];
return [RACSignal empty];
}];
</code></pre>

<ul>
<li>伪代理</li>
</ul>

<p>在 B 页面创建，建议使用全局变量：</p>

<pre><code>RACSubject *delegate =  [RACSubject subject];
[self.delegate sendNext:@&quot;要传的值&quot;];

</code></pre>

<p>在 A 页面接收:</p>

<pre><code>self.B.delegate subscribeNext:^(id  _Nullable x) {
NSLog(@&quot;返回的值%@&quot;,x);
}];

</code></pre>

<ul>
<li>数组的运用</li>
</ul>

<p>RAC里的数组翻译过来叫 元组。
<code>RACTuple *buttonArray = [RACTuple tupleWithObjects:@&quot;1&quot;, @&quot;2&quot;, @&quot;3&quot;, @&quot;4&quot;, @&quot;5&quot;, nil];</code></p>

<p>数组的遍历：</p>

<pre><code>
[self.buttonArray.rac_sequence.signal subscribeNext:^(UIButton *btn) {
//我这里装的是UIButton，遍历出来的就是button按钮

//跟UI相关的必须放到主线程
dispatch_async(dispatch_get_main_queue(), ^{

if (btn.tag&lt;tag) {
btn.selected = button.selected;
}else if (btn.tag!=tag &amp;&amp; btn.tag &gt; tag){
btn.selected = NO;
}
});

}];

</code></pre>
    </section>


  <footer class="post-footer">


    








<figure class="author-image">
    <a class="img" href="https://chunipo.github.io/" style="background-image: url(/images/logo.png)"><span class="hidden">Riven's Picture</span></a>
</figure>


<section class="author">
  <h4><a href="https://chunipo.github.io/">Riven</a></h4>
  
  <p>IT software and Security Engineer, Open source enthusiast.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">GuangZhou, China</span>
    <span class="author-link icon-link"><a href="https://chunipo.github.io/">https://chunipo.github.io/</a></span>
  </div>
</section>




    


    





  </footer>
</article>

</main>


  <aside class="read-next">
  
      <a class="read-next-story" style="background-image: url(/content/images/me/2.jpg)" href="/%E5%85%B3%E4%BA%8E%E4%BD%BF%E7%94%A8-zlcollectionviewflowlayout-%E5%AF%BC%E8%87%B4%E7%9A%84%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E9%97%AE%E9%A2%98/">
          <section class="post">
              <h2>关于使用 ZLCollectionViewFlowLayout 导致的内存泄漏问题</h2>
              
          </section>
      </a>
  
  
      <a class="read-next-story prev" style="background-image: url(/content/images/me/9.jpg)" href="/%E4%BD%BF%E7%94%A8-fastlane-%E5%AE%9E%E7%8E%B0ipa%E8%87%AA%E5%8A%A8%E6%89%93%E5%8C%85%E8%84%9A%E6%9C%AC/">
          <section class="post">
              <h2>使用 Fastlane 实现ipa自动打包脚本</h2>
          </section>
      </a>
  
</aside>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Riven&#39;s Blog</a> 我们真正迷恋的不是某个东西，而是那个东西所代表的意义和感受，它承载了回忆和联想</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="/js/jquery.js"></script>
    <script type="text/javascript" src="/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/js/index.js"></script>
    
        <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
<script>
  if (window.netlifyIdentity) {
    window.netlifyIdentity.on("init", user => {
      if (!user) {
        window.netlifyIdentity.on("login", () => {
          document.location.href = "/admin/";
        });
      }
    });
  }
</script>
    
</body>
</html>

